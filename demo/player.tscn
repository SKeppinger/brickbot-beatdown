[gd_scene format=3 uid="uid://d1d35a4aiirdi"]

[ext_resource type="Script" uid="uid://bbhrg8i6qpd4i" path="res://demo/player.gd" id="1_euw2q"]
[ext_resource type="Script" uid="uid://cuu8fg0sd6wrw" path="res://player-semilockedcam/player_animation_tree.gd" id="2_yji6d"]
[ext_resource type="PackedScene" uid="uid://bvqb4ofwl2w84" path="res://assets/character/brickbot/char_brickbot_2.glb" id="5_pdims"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_kegl3"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_yji6d"]
animation = &"Frozen"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_uuw2b"]
animation = &"Melee-Left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_pdims"]
animation = &"Run"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_s4nun"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_0j7tx"]
switch_mode = 1
advance_mode = 2
advance_expression = "!velocity"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_yb033"]
switch_mode = 1
advance_mode = 2
advance_expression = "velocity"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_yji6d"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_uuw2b"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_pdims"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_0il8d"]
states/End/position = Vector2(937, 147)
states/Frozen/node = SubResource("AnimationNodeAnimation_yji6d")
states/Frozen/position = Vector2(479, 210)
states/Melee-Left/node = SubResource("AnimationNodeAnimation_uuw2b")
states/Melee-Left/position = Vector2(635, 210)
states/Run/node = SubResource("AnimationNodeAnimation_pdims")
states/Run/position = Vector2(479, 85)
states/Start/position = Vector2(279, 210)
transitions = ["Start", "Run", SubResource("AnimationNodeStateMachineTransition_s4nun"), "Run", "Frozen", SubResource("AnimationNodeStateMachineTransition_0j7tx"), "Frozen", "Run", SubResource("AnimationNodeStateMachineTransition_yb033"), "Run", "Melee-Left", SubResource("AnimationNodeStateMachineTransition_yji6d"), "Frozen", "Melee-Left", SubResource("AnimationNodeStateMachineTransition_uuw2b"), "Melee-Left", "Frozen", SubResource("AnimationNodeStateMachineTransition_pdims")]

[node name="Player" type="CharacterBody3D" unique_id=1046148302 node_paths=PackedStringArray("target_anim_player") groups=["player"]]
collision_mask = 7
script = ExtResource("1_euw2q")
target_anim_player = NodePath("char_brickbot_2/AnimationPlayer")

[node name="CollisionShape3D" type="CollisionShape3D" parent="." unique_id=819164279]
shape = SubResource("CapsuleShape3D_kegl3")

[node name="FacingDirection" type="RayCast3D" parent="CollisionShape3D" unique_id=1548326875]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.58, -0.433)
target_position = Vector3(0, 0, -1)

[node name="CameraPivot" type="Node3D" parent="." unique_id=1731401337]

[node name="Camera3D" type="Camera3D" parent="CameraPivot" unique_id=1310681344]
transform = Transform3D(1, 0, 0, 0, 0.99254614, 0.12186935, 0, -0.12186935, 0.99254614, 1.1, 1.5, 2.75)

[node name="LeftArmAttachment" type="Node3D" parent="." unique_id=178813499]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.6, 0, 0)

[node name="RightArmAttachment" type="Node3D" parent="." unique_id=2130059498]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.6, 0, 0)

[node name="Animation" type="Node3D" parent="." unique_id=1356760414 node_paths=PackedStringArray("animation_tree")]
script = ExtResource("2_yji6d")
animation_tree = NodePath("../char_brickbot_2/AnimationTree")

[node name="char_brickbot_2" parent="." unique_id=496472428 instance=ExtResource("5_pdims")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, 0, -1.0798512, 0)

[node name="AnimationTree" type="AnimationTree" parent="char_brickbot_2" unique_id=897100888]
tree_root = SubResource("AnimationNodeStateMachine_0il8d")
advance_expression_base_node = NodePath("../..")
anim_player = NodePath("../AnimationPlayer")

[editable path="char_brickbot_2"]
